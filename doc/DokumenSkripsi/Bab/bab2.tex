\chapter{Dasar Teori}
\label{chap:Dasar Teori}

\section{jsoup}
\label{sec:jsoup}

\textit{Web scraping} adalah teknik mendapatkan informasi dari sebuah situs web secara otomatis \cite{Vargiu:2013}. Dalam bahasa Java, \textit{web scraping} dapat diimplementasikan menggunakan \textit{library} jsoup \cite{jsoup}. API yang disediakan oleh jsoup dapat digunakan untuk mengekstrak dan memanipulasi data HTML. 

Subbab-subbab berikut menjelaskan beberapa kelas dari jsoup.

\subsection{Jsoup}

Kelas ini merupakan inti untuk mengakses fungsi jsoup. Seluruh \textit{method} dalam kelas ini merupakan \texttt{static} \textit{method} sehingga kelas ini tidak perlu dikonstruksi. Salah satu \textit{method} yang dimiliki kelas ini adalah sebagai berikut:
\begin{itemize}
	\item \textbf{public static Connection connect(String url)} \\
		Berfungsi untuk membuat koneksi baru dengan suatu situs web. \\
		\textbf{Parameter:}
		\begin{itemize}
			\item \textbf{url} URL situs web dengan protokol HTTP atau HTTPS.
		\end{itemize}
		\textbf{Kembalian:} koneksi dengan situs web.
\end{itemize}

\subsection{Connection}

Kelas ini merupakan \texttt{interface} yang menyediakan pengambilan data dari situs web. Beberapa \textit{method} yang dimiliki kelas ini adalah sebagai berikut:

\begin{itemize}
	\item \textbf{Connection cookies(Map<String,String> cookies)} \\
		Berfungsi untuk menambahkan \textit{cookie}. \\
		\textbf{Parameter:}
		\begin{itemize}
			\item \textbf{cookies} \texttt{Map} dari \textit{cookie}.
		\end{itemize}
		\textbf{Kembalian:} koneksi yang sama tetapi sudah diubah.
		
		\item \textbf{Connection data(String key, String value)} \\
		Berfungsi untuk menambahkan parameter data yang bisa dikirim melalui metode HTTP GET atau POST. \\
		\textbf{Parameter:}
		\begin{itemize}
			\item \textbf{key} kunci data.
			\item \textbf{value} nilai data.
		\end{itemize}
		\textbf{Kembalian:} koneksi yang sama tetapi sudah diubah.
		
		\item \textbf{Connection method(Connection.Method method)} \\
		Berfungsi untuk mengatur metode pengiriman HTTP, GET atau POST. Metode pengiriman secara \textit{default} adalah GET\\
		\textbf{Parameter:}
		\begin{itemize}
			\item \textbf{method} metode pengiriman permintaan HTTP.
		\end{itemize}
		\textbf{Kembalian:} koneksi yang sama tetapi sudah diubah.
		
		\item \textbf{Connection timeout(int millis)} \\
		Berfungsi untuk mengatur batas waktu \textit{request}. Batas waktu nol akan dianggap sebagai batas waktu yang tak terhingga. \\
		\textbf{Parameter:}
		\begin{itemize}
			\item \textbf{millis} batas waktu dalam milidetik.
		\end{itemize}
		\textbf{Kembalian:} koneksi yang sama tetapi sudah diubah.
		
		\item \textbf{Connection validateTLSCertificates(boolean value)} \\
		Berfungsi untuk mengatur pemeriksaan sertifikat TLS untuk permintaan HTTPS. Nilai ``true'' untuk memeriksa dan nilai ``false'' untuk tidak memeriksa.\\
		\textbf{Parameter:}
		\begin{itemize}
			\item \textbf{value} status pemeriksaan sertifikat TLS.
		\end{itemize}
		\textbf{Kembalian:} koneksi yang sama tetapi sudah diubah.
		
		\item \textbf{Connection.Response execute()} \\
		Berfungsi untuk mengirim permintaan HTTP.\\
		\textbf{Kembalian:} objek \texttt{Response}.	
\end{itemize}

\subsection{Response}

Kelas ini merepresentasikan permintaan HTTP. Beberapa \textit{method} yang dimiliki kelas ini adalah sebagai berikut:
\begin{itemize}
	\item \textbf{Map<String,String> cookies()} \\
		\textit{Method} ini berfungsi untuk mendapatkan seluruh \textit{cookies}. \\
		\textbf{Kembalian:} seluruh \textit{cookies}.	
		
		\item \textbf{Document parse()} \\
		Berfungsi untuk mengurai \texttt{body} jawaban menjadi dokumen. \\
		\textbf{Kembalian:} koneksi yang sama tetapi sudah diubah.
		
		\item \textbf{String body()} \\
		Berfungsi untuk mendapatkan \texttt{body} jawaban berupa \textit{string}. \\
		\textbf{Kembalian:} \texttt{body} jawaban dalam bentuk \textit{string}.
\end{itemize}

\subsection{Document}

Kelas ini merepresentasikan dokumen HTML. Salah satu \textit{method} yang dimiliki kelas ini adalah sebagai berikut:
\begin{itemize}
	\item \textbf{public Elements select(String cssQuery)} \\
		\textit{Method} ini diturunkan dari kelas Element, berfungsi untuk menemukan elemen HTML yang sesuai dengan kueri CSS. \\
		\textbf{Parameter:} 
		\begin{itemize}
			\item \textbf{cssQuery} kueri CSS.
		\end{itemize}
		\textbf{Kembalian:} elemen-elemen HTML yang sesuai dengan kueri CSS.	
\end{itemize}

\subsection{Elements}

Kelas ini merepresentasikan kumpulan elemen HTML. Beberapa \textit{method} yang dimiliki kelas ini adalah sebagai berikut:
\begin{itemize}
	\item \textbf{public Elements select(String query)} \\
		Berfungsi untuk menemukan elemen-elemen yang sesuai dalam \textit{list} elemen. \\
		\textbf{Parameter:} 
		\begin{itemize}
			\item \textbf{query} kueri CSS.
		\end{itemize}
		\textbf{Kembalian:} elemen-elemen yang sudah diseleksi sesuai kueri.	
		
		\item \textbf{public String val()} \\
		Berfungsi untuk mendapatkan nilai dari elemen pertama. \\
		\textbf{Kembalian:} nilai elemen.	
		
		\item \textbf{public String text()} \\
		\textit{Method} Berfungsi untuk mendapatkan kombinasi teks dari seluruh elemen yang sesuai. \\
		\textbf{Kembalian:} seluruh teks dalam \textit{string}.	
\end{itemize}

\subsection{Element}

Kelas ini merepresentasikan sebuah elemen HTML yang berisikan \textit{tag}, atribut, dan anak elemen. Beberapa \textit{method} yang dimiliki kelas ini adalah sebagai berikut:
\begin{itemize}
	\item \textbf{public Element child(int index)} \\
		Berfungsi untuk mendapatkan anak elemen berdasarkan nomor indeks. \\
		\textbf{Parameter:} 
		\begin{itemize}
			\item \textbf{index} nomor index.
		\end{itemize}
		\textbf{Kembalian:} anak elemen.	
		
		\item \textbf{public Element children()} \\
		Berfungsi untuk mendapatkan seluruh anak elemen. \\
		\textbf{Kembalian:} seluruh anak elemen.	
		
		\item \textbf{public String className()} \\
		Berfungsi untuk mendapatkan nama kelas elemen. \\
		\textbf{Kembalian:} nama kelas elemen.	
		
		\item \textbf{public String text()} \\
		Berfungsi untuk mendapatkan teks dari elemen. \\
		\textbf{Kembalian:} teks dalam \textit{string}.	
\end{itemize}



\section{Chrome DevTools}
\label{sec:devtools}

Chrome Developer Tools (DevTools adalah perangkat \textit{debugging} yang dimiliki Google Chrome) \cite{devtools}. Saat menunjungi suatu halaman web, pengguna DevTools dapat melakukan \textit{debugging} pada halaman tersebut. DevTools dapat diakses dengan menekan ``Ctrl+Shift+I'' saat sedang membuka suatu halaman web.  

Panel-panel yang dimiliki DevTools (Gambar \ref{fig:2_chrome_devtools}) antara lain:
\begin{enumerate}
	\item \textbf{Elements}, memeriksa dan mengubah elemen HTML dan \textit{style} dari suatu situs web.
	\item \textbf{Console}, mendapatkan informasi pengembangan dan berinteraksi dengan dokumen.
	\item \textbf{Sources}, melakukan \textit{debugging} pada JavaScript dengan menentukan \textit{breakpoint}.
	\item \textbf{Network}, memantau aktivitas jaringan pada situs web secara \textit{real-time}.
	\item \textbf{Audits}, menganalisa halaman yang dimuat.
	\item \textbf{Timeline}, menampilkan alur waktu saat memuat halaman.
	\item \textbf{Profiles}, menggambarkan waktu eksekusi dan penggunaan memori saat memuat halaman.
	\item \textbf{Resources}, memeriksa sumber daya halaman yang dapat berupa basis data, \textit{cookies}, dan \textit{cache}.
\end{enumerate}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{Gambar/chrome-devtools}
	\caption{Chrome DevTools} 
	\label{fig:2_chrome_devtools}
\end{figure}

Pada subbab-subbab berikut akan dijelaskan mengenai dua panel dari DevTools.

\subsection{Elements}
Panel Elements memungkinkan untuk memperlihatkan informasi yang terstruktur tentang halaman yang sedang dibuka. HTML akan ditampilkan dalam bentuk pohon \textit{Document Object Model} (DOM). Tampilan pohon DOM memperlihatkan struktur DOM dari halaman yang sedang dibuka. Pohon DOM adalah pohon dari node-node yang mewakili setiap elemen HTML seperti \texttt{<body>} dan \texttt{<p>}. 

Pemeriksaan elemen akan memperlihatkan node DOM dan CSS dari elemen yang dipilih pada \textit{browser}. Pemeriksaan elemen dapat dilakukan dengan cara klik kanan pada elemen yang ingin diperiksa kemudian pilih ``Inspect element''. Dengan melakukan pemeriksaan elemen, jendela panel Elements akan muncul. Sebagai contoh pada gambar \ref{fig:2_elements_panel}, saat melakukan ``Inspect element'' pada nama mahasiswa, panel Elements akan muncul dan menunjukkan pohon DOM dari halaman tersebut. Selain itu panel Elements juga menunjukkan CSS selector dari elemen tersebut yaitu \texttt{p.student-name}.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{Gambar/elements-panel}
	\caption{Panel Elements} 
	\label{fig:2_elements_panel}
\end{figure}

\subsection{Network}
Panel Network secara otomatis mencatat semua aktivitas jaringan saat DevTools terbuka. Pertama kali dibuka, panel Network masih kosong. Halaman web harus dimuat ulang untuk mulai mencatat aktivitas jaringan atau menunggu adanya aktivitas jaringan pada halaman web. Setiap sumber daya yang dicatat akan ditambahkan ke dalam sebuah baris dalam tabel Network (Gambar \ref{fig:2_network_panel}). Sedangkan kolom dari tabel Network berisi:
\begin{itemize}
	\item \textbf{Name dan Path}, nama dan URL dari \textit{resource}.
	\item \textbf{Method}, HTTP \textit{request method}.
	\item \textbf{Status dan Text}, kode status HTTP dan pesan.
	\item \textbf{Domain}, domain dari \textit{resource}.
\end{itemize}
%skip%

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{Gambar/network-panel}
	\caption{Panel Network} 
	\label{fig:2_network_panel}
\end{figure}


Ketika nama \textit{resource} dalam tabel Network diklik, maka akan muncul tab baru (Gambar \ref{fig:2_network_detail}). Beberapa detail dari tab baru tersebut adalah sebagai berikut:
\begin{itemize}
	\item \textbf{Header}\\
	Tab Header menampilkan \textit{request} URL, \textit{request method}, \textit{status code}, HTTP \textit{response} dan \textit{request header} beserta nilainya, dan \textit{query string parameter}. HTTP header dapat ditampilkan secara terformat atau dalam bentuk sumber dengan mengklik \textit{toggle button} "`view parsed"'/"`view source"'. Nilai-nilai parameter dapat ditampilkan dalam bentuk yang sudah didekodekan atau dalam bentuk URL yang dienkode dengan mengklik \textit{toggle button} "`view decoded"'/"`view URL encoded"' .
	\item \textbf{Preview}\\
	Tab Preview menampilkan tampilan \textit{resource} jika tersedia.
	\item \textbf{Response}\\
	Tab Response berisi konten resource yang tidak terformat.
	\item \textbf{Cookies}\\
	Tab Cookies menampilkan sebuah tabel yang terdiri dari seluruh \textit{cookie} yang dikirim dalam HTTP \textit{request} dan \textit{response} \textit{header}.
\end{itemize}

\begin{figure}
	\centering
	\includegraphics[scale=0.5]{Gambar/network-header}
	\caption{Detail \textit{Resource}} 
	\label{fig:2_network_detail}
\end{figure}

\section{Play Framework}
\label{sec:play}

Play Framework\cite{Leroux:2014} merupakan sebuah web framework berbasis bahasa Java dan Scala. Play Framework juga menggunakan \textit{design pattern} Model-View-Controller (MVC) di mana \textit{model} dan \textit{controller} menggunakan bahasa Java sedangkan \textit{view} menggunakan bahasa Scala dan HTML. Struktur aplikasi Play Framework dapat dilihat pada gambar \ref{fig:2_play_dir}.
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{Gambar/play-dir}
	\caption{Struktur Aplikasi Play Framework} 
	\label{fig:2_play_dir}
\end{figure}

Dalam \textit{directory} \texttt{conf}, terdapat file \texttt{routes}. Melalui \texttt{routes}, Rute aplikasi dapat ditentukan dengan memetakan URL ke kode aplikasi. Setiap \texttt{route} memiliki tiga bagian yaitu HTTP \textit{method}, URL \textit{path}, dan \textit{action method} (Gambar \ref{fig:2_routes_example}). HTTP \textit{method} merupakan metode pengiriman HTTP. URL \textit{path} merupakan URL untuk mengakses halaman. \textit{Action method} merupakan \textit{method} pada \textit{package} \texttt{controller}, kelas \texttt{Application} yang menangani \textit{request}.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.5]{Gambar/contoh-routes}
	\caption{Routes} 
	\label{fig:2_routes_example}
\end{figure}

\textit{Directory} \texttt{public} berisi \textit{resource} yang dapat diakses secara langsung sebagai \textit{public asset}. Biasanya \textit{public asset} mendukung file selain aplikasi yang dibuat seperti gambar, \textit{stylesheet}, Javascript dan halaman HTML statis. \textit{Public asset} tidak dihasilkan oleh aplikasi melainkan diatur secara langsung oleh pembuat program.

\textit{Directory} aplikasi berisi kode
% 2.6
